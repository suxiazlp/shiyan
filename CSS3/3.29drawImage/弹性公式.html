<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>弹性公式</title>
	<style>
    #canvas{
    	background: #eee;
    }
    </style>
</head>
<body>
	<canvas id='canvas' width='400' height='300'></canvas>
	<script>
   /*vx/vy代表的是速度 
     targetX/targetY目标位置
     spriteX/spriteY变化中的位置
     spring:弹性系数;
     friction:摩擦力;
    */
  /*vx += (targetX – spriteX) * spring;
    vy += (targetY – spriteY) * spring;
    spriteX += (vx *= friction);
    spriteY += (vy *= friction) */
     var canvas=document.getElementById('canvas')
     var cobj=canvas.getContext('2d')
     var vx=0,vy=0,targetX=100,targetY=100,startX=100,startY=-100,spring=0.8,friction=0.6;
     var spriteX=startX,
         spriteY=startY;
     var img=new Image()
     img.src='18.jpg'
     setInterval(function(){
        cobj.clearRect(0,0,400,300)
        cobj.beginPath()
        cobj.strokeStyle='lightgreen'
        cobj.lineWidth=8
        vx+=(targetX-spriteX)*spring;
        vy+=(targetY-spriteY)*spring;
        spriteX+=(vx*=friction);
        spriteY+=(vy*=friction)
        cobj.moveTo(startX,startY)
        cobj.lineTo(spriteX,spriteY)
        cobj.stroke()
        cobj.drawImage(img,spriteX-30,spriteY,100,100)  
     },100)    

	</script>
</body>
</html>